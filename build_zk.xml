<!-- ================================================  -->
<!-- AdempiereLBR Build                                -->
<!-- ================================================  -->
<!-- $Header: /inova/cvs/adempiere/build_zk.xml,v 1.1 2009-10-23 18:26:34 kenos Exp $ -->
<project name="adempierelbr" default="main" basedir="./">

	<property file="build.properties"/>

	<target name="main" depends="pre, ad-webui, lbr-webui, zkwebui, compress" description="Main target">
		<echo message=" ===============================================" />
		<echo message=" Process Finished" />
		<echo message=" ===============================================" />
    </target>
	
	<target name="pre" description="Checking conditions">
		<echo message=" ===============================================" />
		<echo message=" COMPILE YOUR PROJECT USING ECLIPSE FIRST" />
		<echo message=" AdempiereLBR Folder: ${lbr.FOLDER}" />
		<echo message=" ===============================================" />
		<echo message=" Created By: Ricardo Santana (www.kenos.com.br)" />
		<echo message=" ===============================================" />
		
		<available file="./bin/org/adempiere/webui" property="ad-webui.present" />
		<available file="./bin/org/adempierelbr/webui" property="lbr-webui.present" />
		<available file="./zkwebui/theme" property="zkwebui.present" />
		
		<!-- deletes previously created jar -->
	    <delete file="zkcustomization.jar" />
	    
		<!-- creates temp build directory -->
	    <mkdir dir="build_jar" />
    </target>

	<target name="ad-webui" if="ad-webui.present">
		<!-- copy the CLASSes from your custom project to "build_jar" directory  -->
	    <copy todir="build_jar/WEB-INF/classes/org/adempiere/webui" overwrite="true">
	    	<fileset dir="./bin/org/adempiere/webui" includes="**/*.*" />
	    </copy>
	</target>
	
	<target name="lbr-webui" if="lbr-webui.present">
		<!-- copy the CLASSes from your custom project to "build_jar" directory  -->
	    <copy todir="build_jar/WEB-INF/classes/org/adempierelbr/webui" overwrite="true">
	    	<fileset dir="./bin/org/adempierelbr/webui" includes="**/*.*" />
	    </copy>
	</target>
	
	<target name="zkwebui" if="zkwebui.present">
			<!-- copy zul files from Project to "build_jar" directory  -->
			<copy todir="build_jar/theme" overwrite="false">
				<fileset dir="./zkwebui/theme" includes="**/*.*" />
			</copy>
	</target>
	
	<tstamp>
		  <format property="TODAY"
		          pattern="yyyyMMdd-HHmm"
		          locale="en,UK"/>
	</tstamp>
	
	<target name="compress">
	
	    <!-- creates your jar with the contents inside "build_jar" -->
	    <jar destfile="zkcustomization.jar-${TODAY}" basedir="build_jar" duplicate="preserve">
	    	<manifest>
	            <!-- Who is building this jar? -->
	            <attribute name="Built-By" value="${user.name}" />
	            <!-- Information about the program itself -->
	            <attribute name="Implementation-Vendor" value="${lbr.VENDOR}" />
	            <attribute name="Implementation-Title" value="${lbr.TITLE}" />
	            <attribute name="Implementation-Version" value="${lbr.VERSION}" />
	        </manifest>
	    </jar>
	
		<delete dir="build_jar" />
	
	</target>
</project>